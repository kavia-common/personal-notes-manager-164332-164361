{"is_source_file": true, "format": "Dart", "description": "This Dart source file defines a database provider class 'NotesDb' for managing notes and categories using SQLite. It includes methods for CRUD operations and database initialization, with schema definitions for notes and categories tables.", "external_files": ["package:path/path.dart", "package:sqflite/sqflite.dart", "../models/note.dart"], "external_methods": ["getDatabasesPath", "openDatabase", "db.execute", "db.insert", "db.update", "db.delete", "db.query", "NoteCategory.fromMap", "Note.fromMap"], "published": ["NotesDb"], "classes": [{"name": "NotesDb", "description": "A singleton class providing access to a local SQLite database for notes and categories, with methods for CRUD operations and schema management."}], "methods": [{"name": "_open", "description": "Initializes and opens the database connection, creating tables if necessary."}, {"name": "close", "description": "Closes the database connection."}, {"name": "getCategories", "description": "Retrieves all categories ordered by name case-insensitively."}, {"name": "insertCategory", "description": "Inserts a new category into the database."}, {"name": "deleteCategory", "description": "Deletes a category and sets related notes' category_id to null."}, {"name": "insertNote", "description": "Inserts a new note into the database."}, {"name": "updateNote", "description": "Updates an existing note in the database."}, {"name": "deleteNote", "description": "Deletes a note by ID."}, {"name": "getNote", "description": "Retrieves a note by ID."}, {"name": "listNotes", "description": "Lists notes based on filtering options such as search query, category, archived/pinned status."}], "calls": ["getDatabasesPath", "openDatabase", "db.execute", "db.insert", "db.update", "db.delete", "db.query"], "search-terms": ["NotesDb", "notes", "categories", "SQLite", "local database", "CRUD"], "state": 2, "file_id": 20, "knowledge_revision": 46, "git_revision": "", "hash": "d5e6834c114fc8693c775601c6de51bf", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/data/notes_db.dart", "revision_history": [{"46": ""}]}