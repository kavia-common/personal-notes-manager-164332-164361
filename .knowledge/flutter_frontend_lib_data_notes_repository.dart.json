{"is_source_file": true, "format": "Dart", "description": "This file defines the NotesRepository class that provides an abstraction layer over local SQLite database operations for notes and categories in a note-taking app. It contains methods for CRUD operations, category management, and note state toggling.", "external_files": ["../models/note.dart", "notes_db.dart"], "external_methods": ["NotesDb.getCategories", "NotesDb.insertCategory", "NotesDb.deleteCategory", "NotesDb.listNotes", "NotesDb.getNote", "NotesDb.insertNote", "NotesDb.updateNote", "NotesDb.deleteNote"], "published": ["NotesRepository"], "classes": [{"name": "NotesRepository", "description": "Repository class providing safe access and management of notes and categories in local database."}], "methods": [{"name": "getCategories", "description": "Fetches all note categories from the database."}, {"name": "ensureCategoryByName", "description": "Ensures a category exists for a given name; creates a new one if it doesn't exist or if name is empty."}, {"name": "deleteCategory", "description": "Deletes a category by its ID."}, {"name": "listNotes", "description": "Retrieves a list of notes filtered by optional parameters such as search query, category, archive, and pin status."}, {"name": "getNote", "description": "Retrieves a specific note by ID."}, {"name": "createNote", "description": "Creates a new note with provided title, content, category, and pinned status."}, {"name": "updateNote", "description": "Updates an existing note."}, {"name": "deleteNote", "description": "Deletes a note by its ID."}, {"name": "toggleArchive", "description": "Toggles the archived status of a note."}, {"name": "togglePinned", "description": "Toggles the pinned status of a note."}], "calls": ["NotesDb.getCategories", "NotesDb.insertCategory", "NotesDb.getCategories", "NotesDb.getCategories", "NotesDb.insertCategory", "NotesDb.listNotes", "NotesDb.getNote", "NotesDb.insertNote", "NotesDb.updateNote", "NotesDb.deleteNote"], "search-terms": ["NotesRepository", "local SQLite notes", "category management", "note CRUD", "archive toggle", "pin toggle"], "state": 2, "file_id": 21, "knowledge_revision": 56, "git_revision": "", "revision_history": [{"47": ""}, {"56": ""}], "hash": "914cc5580ceb91acbe5967f10804a41e", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/data/notes_repository.dart"}